# Сервис чата

Данный сервис реализует логику работы чата на сервисе. Он поддерживет Websocket соединение с клиентом, а также проксирует запросы в нужный тип месседжера.

> 8081 - порт websocket сервера
> 8082 - порт grpc сервера

### Зона ответственности

1. HTTP ручка для подключения по websocket
2. Обработка websocket сообщений
3. Проксирование сообщений в/из тг/вк бота
4. Обработка запросов от ботов на сервис (домашнии задания, решения, события)

### Переменные окружения

`POSTGRES_USER` - имя пользователя для подключения к БД

`POSTGRES_HOST` - хост для подключения к БД

`POSTGRES_PASSWORD` - пароль для подключения к БД

`POSTGRES_PORT` - порт для подключения к БД

`POSTGRES_DB` - имя базы для подключения к БД

`CALENDAR_GRPC_URL` - урл для подключения к сервису календаря по grpc

`FILESTORAGE_PATH` - абсолютный путь, по которому будут хранится файлы (путь внутри контейнейнера)

`CHAT_FILES_PATH` - приставка к пути, по которой будут хранится файлы для чатов

`HOMEWORK_FILES_PATH` - приставка к пути, по которой будут хранится файлы для домашних заданий

`SOLUTION_FILES_PATH` - приставка к пути, по которой будут хранится файлы для решений

`URL_DOMAIN` - внешний урл самого приложения

---

> Коммит со строкой `[DEPLOY]` в сообщении вызовет workflow для сборки докер-изображения и деплоя на сервер.
